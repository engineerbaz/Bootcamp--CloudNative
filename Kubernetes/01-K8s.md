# Kubernetes

### Types
- NodePort
- LoadBalancer 
- ClusterIP

### Services
it is an abstraction to balance load  ---> on premisses Server IP and Pod  -->

#### Cluster IP 
- Service a Virtual Server
- Internal LoadBalancer

#### NodPort 
aka Port forwarding from host to Node but cluster wide --> On-premises

#### Load Balance Service 
 off premises --> provides publics facing


Port range 30000 ~ 32767


====


minikube start --driver=hyperv



`kubectl version --short` for checking version

`kubectl get pod -n kube-system` check pod in particular namespace
 


2 deploy httpd
3 deploy nginx 

`kubectl expose deployment internal-deployment --port=80 --target-port=8008 --name=deployment-service`


=== 
### Kubernetes Networking

- Every Node is reachable to each other without NAT.
- Every Pod is reachable to each other 
- CNI Pluggin is responsible for IP management.


-- Kublet is running as a service, not as a pod on Cluster


etcd also can maintain IP assignment

Types of networking

- Flannel
  - Works for L2 (flat)
- Calieco
  - It has Network policy
  - works on L3 
  - works on BGP for peer propogation
- Vmware NSX
  - Properity ESXi



- Normally VxLANs are used.
- Tunnel termnation is being done on Switches by APIs 